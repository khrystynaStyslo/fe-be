{"version":3,"sources":["hooks/http.hook.js","context/AuthContext.js","components/Loader.jsx","components/LinksList.jsx","pages/LinksPage.jsx","pages/CreatePage.jsx","components/LinkCard.jsx","pages/DetailPage.jsx","pages/AuthPage.jsx","hooks/message.hook.js","routes.js","hooks/auth.hook.js","components/Navbar.jsx","App.js","reportWebVitals.js","index.js"],"names":["useHttp","useState","loading","setLoading","error","setError","request","useCallback","url","a","method","body","headers","JSON","stringify","fetch","response","json","data","ok","Error","message","clearError","noop","AuthContext","createContext","token","userId","login","logout","isAuth","Loader","style","display","justifyContent","paddingTop","className","LinksList","links","length","map","link","index","from","to","_id","LinksPage","setLinks","useContext","fetchLinks","Authorization","fetched","useEffect","CreatePage","navigate","useNavigate","auth","setLink","window","M","updateTextFields","pressHandler","event","key","console","log","placeholder","id","type","value","onChange","e","target","onKeyPress","htmlFor","LinkCard","href","rel","clicks","Date","date","toLocaleDateString","DetailPage","linkId","useParams","getLink","AuthPage","text","toast","html","email","password","form","setForm","changeHandler","name","registerHandler","loginHandler","marginRight","onClick","disabled","PrivateRoute","props","children","AuthRoute","storageName","Navbar","logoutHandler","preventDefault","padding","App","isAuthenticated","setToken","ready","setReady","setUserId","jwtToken","localStorage","setItem","removeItem","parse","getItem","useAuth","routes","path","element","exact","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.682a3a0d.chunk.js","sourcesContent":["import { useState, useCallback } from \"react\"\n\nexport const useHttp = () => {\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(null)\n\n  const request = useCallback(async (url, method = 'get', body = null, headers = {}) => {\n    setLoading(true)\n    try {\n      if (body) {\n        body = JSON.stringify(body)\n        headers['Content-Type'] = 'application/json'\n      }\n      const response = await fetch(url, { method, body, headers })\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Something went wrong')\n      }\n      setLoading(false)\n\n      return data\n    } catch (e) {\n      setLoading(false)\n      setError(e.message)\n      throw e\n    }\n  }, [])\n\n  const clearError = useCallback(() => setError(null), [])\n\n  return { loading, request, error, clearError }\n}","import { createContext } from \"react\"\n\nfunction noop() {}\n\nexport const AuthContext = createContext({\n  token: null,\n  userId: null,\n  login: noop,\n  logout: noop,\n  isAuth: false,\n})\n","import React from 'react'\n\nexport const Loader = () => (\n  <div style={{display: 'flex', justifyContent: 'center', paddingTop: '100px'}}>\n    <div className=\"preloader-wrapper active\">\n      <div className=\"spinner-layer spinner-red-only\">\n        <div className=\"circle-clipper left\">\n          <div className=\"circle\"/>\n        </div>\n        <div className=\"gap-patch\">\n          <div className=\"circle\"/>\n        </div>\n        <div className=\"circle-clipper right\">\n          <div className=\"circle\"/>\n        </div>\n      </div>\n    </div>\n  </div>\n)","import React from 'react'\nimport {Link} from \"react-router-dom\";\n\nexport const LinksList = ({ links }) => {\n    if (!links.length) {\n        return <p className=\"center\">You don't have links</p>\n    }\n    return (\n        <table>\n            <thead>\n            <tr>\n                <th>№</th>\n                <th>Original link</th>\n                <th>Short link</th>\n                <th>Open</th>\n            </tr>\n            </thead>\n\n            <tbody>\n            {links.map((link, index) => (\n                <tr>\n                    <td>{index + 1}</td>\n                    <td>{link.from}</td>\n                    <td>{link.to}</td>\n                    <td>\n                        <Link to={`/detail/${link._id}`}>Open link</Link>\n                    </td>\n                </tr>\n            ))}\n            </tbody>\n        </table>\n    )\n}","import React, {useCallback, useContext, useEffect, useState} from 'react'\nimport {useHttp} from \"../hooks/http.hook\";\nimport {AuthContext} from \"../context/AuthContext\";\nimport {Loader} from \"../components/Loader\";\nimport {LinksList} from \"../components/LinksList\";\n\nexport const LinksPage = () => {\n    const [links, setLinks] = useState([])\n    const { loading, request } = useHttp()\n    const { token } = useContext(AuthContext)\n\n    const fetchLinks = useCallback(async () => {\n        try {\n            const fetched = await request(`/api/link`, 'GET', null, {\n                Authorization: `Bearer ${token}`\n            })\n            setLinks(fetched)\n        } catch (e) {}\n    }, [token, request])\n\n    useEffect(() => {\n        fetchLinks()\n    }, [fetchLinks])\n\n    if (loading) {\n        return <Loader />\n    }\n\n    return (\n        <>\n            {!loading && <LinksList links={links} />}\n        </>\n    )\n}","import React, {useCallback, useContext, useEffect, useState} from 'react'\nimport {useHttp} from \"../hooks/http.hook\"\nimport {AuthContext} from \"../context/AuthContext\"\nimport { useNavigate } from \"react-router-dom\"\n\nexport const CreatePage = () => {\n  const navigate = useNavigate()\n  const auth = useContext(AuthContext)\n  const {request} = useHttp()\n  const [link, setLink] = useState('')\n\n  useEffect(() => {\n    window.M.updateTextFields()\n  }, [])\n\n  const pressHandler = useCallback(async (event) => {\n    if (event.key === 'Enter') {\n      try {\n        const data = await request('/api/link/generate', 'POST', {from: link}, {\n          Authorization: `Bearer ${auth.token}`\n        })\n        console.log('data link', data)\n        navigate(`/detail/${data.link._id}`)\n      } catch (e) {\n      }\n    }\n  }, [auth.token, link, request])\n\n  return (\n    <div className=\"row\">\n      <div className=\"col s8 offset-s2\" style={{paddingTop: '20px'}}>\n        <div className=\"input-field\">\n          <input\n            placeholder=\"Input your link\"\n            id=\"link\"\n            type=\"text\"\n            value={link}\n            onChange={(e) => setLink(e.target.value)}\n            onKeyPress={pressHandler}\n          />\n          <label htmlFor=\"email\">Link</label>\n        </div>\n      </div>\n    </div>\n  )\n}","import React from 'react'\n\nexport const LinkCard = ({ link }) => {\n  return (\n    <>\n      <h2>Link</h2>\n\n      <p>Your link: <a href={link.to} target=\"_blank\" rel=\"noopener noreferrer\">{link.to}</a></p>\n      <p>From: <a href={link.from} target=\"_blank\" rel=\"noopener noreferrer\">{link.from}</a></p>\n      <p>Clicks: <strong>{link.clicks}</strong></p>\n      <p>Created at: <strong>{new Date(link.date).toLocaleDateString()}</strong></p>\n    </>\n  )\n}","import React, {useCallback, useContext, useEffect, useState} from 'react'\nimport { useParams } from \"react-router-dom\"\nimport {useHttp} from \"../hooks/http.hook\"\nimport {AuthContext} from \"../context/AuthContext\"\nimport {Loader} from \"../components/Loader\"\nimport {LinkCard} from \"../components/LinkCard\"\n\nexport const DetailPage = () => {\n  const { token } = useContext(AuthContext)\n  const { request, loading } = useHttp()\n  const [link, setLink] = useState(null)\n  const linkId = useParams().id\n\n  const getLink = useCallback(async () => {\n    try {\n      const fetched = await request(`/api/link/${linkId}`, 'GET', null, {\n        Authorization: `Bearer ${token}`\n      })\n      setLink(fetched)\n    } catch (e) {}\n  }, [token, linkId, request])\n\n  useEffect(() => {\n    getLink()\n  } ,[getLink])\n\n  if (loading) {\n    return <Loader />\n  }\n\n  return (\n    <>\n      {!loading && link && (\n        <LinkCard link={link} />\n      )}\n    </>\n  )\n}","import React, {useCallback, useContext, useEffect, useState} from 'react'\nimport { useHttp } from '../hooks/http.hook'\nimport {useMessage} from \"../hooks/message.hook\";\nimport {AuthContext} from \"../context/AuthContext\";\n\nexport const AuthPage = () => {\n  const auth = useContext(AuthContext)\n  const message = useMessage()\n  const { loading, error, request, clearError } = useHttp()\n  const [form, setForm] = useState({\n    email: '',\n    password: ''\n  })\n\n  useEffect(() => {\n    message(error)\n    clearError()\n  }, [error, message, clearError])\n\n  useEffect(() => {\n    window.M.updateTextFields()\n  }, [])\n\n  const changeHandler = useCallback((event) => {\n    setForm({...form, [event.target.name]: event.target.value})\n  }, [form])\n\n  const registerHandler = useCallback(async () => {\n    try {\n      const data = await request('/api/auth/register', 'POST', { ...form })\n      message(data.message)\n    } catch (e) {}\n  }, [form, request, message])\n\n  const loginHandler = useCallback(async () => {\n    try {\n      const data = await request('/api/auth/login', 'POST', { ...form })\n      auth.login(data.token, data.userId)\n    } catch (e) {}\n  }, [form, request, message])\n\n  return (\n    <div className=\"row\">\n      <div className=\"col s6 offset-s3\">\n        <h1>Short link</h1>\n        <div className=\"card indigo darken-1\">\n          <div className=\"card-content white-text\">\n            <span className=\"card-title\">Authorization</span>\n            <div>\n              <div className=\"input-field\">\n                <input\n                  placeholder=\"Input your email\"\n                  id=\"email\"\n                  type=\"text\"\n                  name=\"email\"\n                  value={form.email}\n                  onChange={changeHandler}\n                />\n                <label htmlFor=\"email\">Email</label>\n              </div>\n\n              <div className=\"input-field\">\n                <input\n                  placeholder=\"Input your email\"\n                  id=\"password\"\n                  type=\"password\"\n                  name=\"password\"\n                  value={form.password}\n                  onChange={changeHandler}\n                />\n                <label htmlFor=\"password\">Password</label>\n              </div>\n            </div>\n          </div>\n          <div className=\"card-action\">\n            <button\n              className=\"btn lime lighten-2 black-text\"\n              style={{marginRight: '15px'}}\n              onClick={loginHandler}\n              disabled={loading}\n            >Login</button>\n            <button\n              className=\"btn grey lighten-1 black-text\"\n              onClick={registerHandler}\n              disabled={loading}\n            >Registration</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}","import { useCallback } from \"react\"\n\nexport const useMessage = () => {\n  return useCallback(text => {\n    if (window.M && text) {\n      window.M.toast({ html: text })\n    }\n  }, [])\n}","import React from 'react'\nimport { Routes, Route, Navigate } from \"react-router-dom\"\nimport {LinksPage} from \"./pages/LinksPage\";\nimport {CreatePage} from \"./pages/CreatePage\";\nimport {DetailPage} from \"./pages/DetailPage\";\nimport {AuthPage} from \"./pages/AuthPage\";\n\nfunction PrivateRoute(props) {\n  return props.isAuth ? props.children : <Navigate to=\"/\" />\n}\n\nfunction AuthRoute(props) {\n  return props.isAuth ? <Navigate to=\"/create\" /> : props.children\n}\n\n\nexport const useRoutes = (isAuthenticated) => {\n        return (\n            <Routes>\n              <Route\n                path=\"/links\"\n                element={\n                  <PrivateRoute isAuth={isAuthenticated}>\n                    <LinksPage />\n                  </PrivateRoute>\n                }\n                exact\n              />\n\n              <Route\n                path=\"/create\"\n                element={\n                  <PrivateRoute isAuth={isAuthenticated}>\n                    <CreatePage/>\n                  </PrivateRoute>\n                }\n                exact\n              />\n              <Route\n                path=\"/detail/:id\"\n                element={\n                  <PrivateRoute isAuth={isAuthenticated}>\n                    <DetailPage />\n                  </PrivateRoute>\n                }\n              />\n\n              <Route element={\n                <AuthRoute isAuth={isAuthenticated}>\n                  <AuthPage />\n                </AuthRoute>\n              } path=\"/\" exact/>\n\n              <Route\n                path=\"*\"\n                element={\n                  <AuthRoute isAuth={isAuthenticated}>\n                    <Navigate to=\"/\" />\n                  </AuthRoute>\n                }\n              />\n            </Routes>\n        )\n}\n","import {useState, useCallback, useEffect} from \"react\"\n\nconst storageName = 'userData'\n\nexport const useAuth = () => {\n  const [token, setToken] = useState(null)\n  const [ready, setReady] = useState(false)\n  const [userId, setUserId] = useState(null)\n\n  const login = useCallback((jwtToken, id) => {\n    setToken(jwtToken)\n    setUserId(id)\n\n    localStorage.setItem(storageName, JSON.stringify({ userId: id, token: jwtToken }))\n  }, [])\n\n  const logout = useCallback(() => {\n    setToken(null)\n    setUserId(null)\n\n    localStorage.removeItem(storageName)\n  }, [])\n\n  useEffect(() => {\n    const data = JSON.parse(localStorage.getItem(storageName))\n\n    if (data && data.token) {\n      login(data.token, data.userId)\n    }\n    setReady(true)\n  }, [login])\n\n  return { login, logout, token, userId, ready }\n}","import React, {useCallback, useContext} from 'react'\nimport { NavLink, useNavigate } from \"react-router-dom\"\nimport {AuthContext} from \"../context/AuthContext\";\n\nexport const Navbar = () => {\n  const navigate = useNavigate()\n  const auth = useContext(AuthContext)\n\n  const logoutHandler = useCallback((event) => {\n    event.preventDefault()\n    auth.logout()\n    navigate('/')\n  }, [])\n\n  return (\n    <nav>\n      <div className=\"nav-wrapper teal darken-4\" style={{ padding: '0 30px' }}>\n        <a href=\"#\" className=\"brand-logo\">Short links</a>\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n          <li>\n            <NavLink to=\"/create\">Create</NavLink>\n          </li>\n          <li>\n            <NavLink to=\"/links\">Links</NavLink>\n          </li>\n          <li>\n            <a onClick={logoutHandler} href=\"/\">Exit</a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  )\n}","import React from 'react'\nimport {BrowserRouter} from \"react-router-dom\"\nimport {useRoutes} from \"./routes\"\nimport {useAuth} from \"./hooks/auth.hook\"\nimport 'materialize-css'\nimport {AuthContext} from \"./context/AuthContext\"\nimport { Navbar } from \"./components/Navbar\"\nimport {Loader} from \"./components/Loader\";\n\nfunction App() {\n  const { token, login, logout, userId, ready } = useAuth()\n  const isAuth = !!token\n  const routes = useRoutes(isAuth)\n\n  if (!ready) {\n    return <Loader />\n  }\n\n  return (\n    <AuthContext.Provider value={{\n      token, login, logout, userId, isAuth\n    }}>\n      <BrowserRouter>\n        {isAuth && <Navbar />}\n        <div className=\"container\">\n          {routes}\n        </div>\n      </BrowserRouter>\n    </AuthContext.Provider>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}